---
import Base from "@/layouts/Base.astro";
import { getCollection } from "astro:content";

const posts = await getCollection("blog");
---

<Base title="blog">
  <ul class="mt-10">
    {
      posts.map(({ id, data: { title, date } }) => (
        <li class="px-4">
          <a
            class="flex items-center justify-between border-l-4 border-zinc-900 px-4 py-2 duration-300 hover:border-zinc-300 hover:bg-zinc-200 dark:hover:text-zinc-900"
            href={`/blog/${id}`}
          >
            <h3 class="mr-4 flex items-baseline text-xl font-medium">
              {title}
            </h3>
            <aside class="font-mono text-xs opacity-50">
              {date.toISOString().slice(0, 10)}
            </aside>
          </a>
        </li>
      ))
    }
  </ul>
</Base>
